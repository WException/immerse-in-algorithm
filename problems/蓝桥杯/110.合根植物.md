# 110.合根植物

蓝桥杯题库 [题目链接](https://www.lanqiao.cn/problems/110/learning/)。

> 2017，并查集，国赛

可以算作是并查集的模板题了，学习并查集请看：https://www.bilibili.com/video/BV1894y1W7Sb

本题理解：在开始每个格子都有一株植物，所以数量为n x m株。植物可以合并，合并之后变为同一株。所以我们每次判断合并的两株植物是否为同一株（同一集合）即可，如果不是则count减一。最后合并结束输出count。


### C++代码
```cpp
#include <iostream>
#include <vector>
using namespace std;

vector<int> p;
int cnt;

int find(int x) {
    if (p[x] != x) p[x] = find(p[x]);
    return p[x];
}

void connect(int a, int b) {
    int ra = find(a);
    int rb = find(b);
    if (ra != rb) {
        p[rb] = ra;
        cnt--;
    }
}

int main() {
    int n, m, k;
    cin >> n >> m >> k;
    cnt = n * m;
    p.resize(n * m + 1);
    for (int i = 1; i <= n * m; i++) p[i] = i;
    while (k--) {
        int a, b;
        cin >> a >> b;
        connect(a, b);
    }
    cout << cnt << endl;
    return 0;
}
```

### Java代码
```Java
import java.util.Scanner;

public class Main {
    static int[] p;
    static int count;
    public static void main(String[] args) {
        Scanner sc = new Scanner(System.in);
        //在此输入您的代码...
        int n = sc.nextInt();
        int m = sc.nextInt();
        int k = sc.nextInt();
        count = n * m;
        p = new int[n * m + 1];
        for(int i=1;i<=n*m;i++){
            p[i] = i;
        }

        while(k-- > 0){
            int a = sc.nextInt();
            int b = sc.nextInt();
            connect(a,b);
        }
        System.out.println(count);
        sc.close();
    }

    public static int find(int x){
        if(p[x] != x){
          p[x] = find(p[x]);
        }
        return p[x];
    }

    public static void connect(int a,int b){
        int roota = find(a);
        int rootb = find(b);
        if(roota != rootb){
            p[rootb] = roota;
            count--;
        }
    }
}
```

### Python3代码
```python
n, m = map(int, input().split())
k = int(input())
p = [i for i in range(n * m + 1)]
cnt = n * m

def find(x):
    while p[x] != x:
        p[x] = p[p[x]]
        x = p[x]
    return x

def connect(a, b):
    global cnt
    ra = find(a)
    rb = find(b)
    if ra != rb:
        p[rb] = ra
        cnt -= 1

for _ in range(k):
    a, b = map(int, input().split())
    connect(a, b)

print(cnt)
```
